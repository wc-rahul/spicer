

<div class="section-background color-{{ section.settings.color_scheme }}"></div>
<div
  class="section custom-announcement-bar section--{{ section.settings.section_width }} color-{{ section.settings.color_scheme }}"

  {% if request.visual_preview_mode %}
    data-shopify-visual-preview
  {% endif %}

  style="
    {% if section.settings.section_height == 'custom' %}
      --section-min-height: {{ section.settings.section_height_custom }}svh;
    {% elsif section.settings.section_height == 'full-screen' %}
      --section-min-height: 100svh;
    {% elsif section.settings.section_height != '' %}
      --section-min-height: var(--section-height-{{ section.settings.section_height }});
    {% endif %}

    {% if section.settings.section_height != '' %}
     --section-preview-height: 600px;
     {% endif %}
  "
>
  <div class="custom-section-background">
    {% render 'background-media',
      background_media: section.settings.background_media,
      background_video: section.settings.video,
      background_video_position: section.settings.video_position,
      background_image: section.settings.background_image,
      background_image_position: section.settings.background_image_position
    %}
  </div>

  <div
    class="border-style custom-section-content"
    style="{% render 'border-override', settings: section.settings %}"
  >
    {% if section.settings.toggle_overlay %}
      {% render 'overlay', settings: section.settings, layer: '0' %}
    {% endif %}

    <div
      class="
        spacing-style
        layout-panel-flex
        layout-panel-flex--{{ section.settings.content_direction }}
        section-content-wrapper
        custom-announcement-bar-content
      "
      style="
        {% render 'layout-panel-style', settings: section.settings %}
        {% render 'spacing-style', settings: section.settings %}
      "
      data-testid="section-content"
    >
      {% content_for 'block', type: 'announcement-link', id: 'announcement-link' %}
      {% content_for 'block', type: 'nav-links', id: 'nav-links' %}
    </div>
  </div>
</div>

{% stylesheet %}
.custom-announcement-bar-content{
  flex-wrap: wrap;
 
}
  .custom-announcement-bar {
    z-index:2;
  }

  .section-wrapper {
    --section-height-offset: 0px;
  }

  .section[data-shopify-visual-preview] {
    min-height: var(--section-preview-height);
    padding-top: 0;
  }

  .section[data-shopify-visual-preview] .custom-section-background {
    display: none;
  }

  body:has(> #header-group > .header-section > #header-component[transparent]):not(
      :has(> #header-group > .header-section + .shopify-section)
    )
    > main
    > .section-wrapper:first-child {
    --section-height-offset: var(--header-group-height, 0);
  }

  .custom-section-background {
    grid-column: 1 / -1;
  }

  .custom-section-content {
    z-index: var(--layer-flat);
  }
  @media (max-width: 768px) {
   
  }
{% endstylesheet %}
  
  {% schema %}
  {
    "name": "Announcement bar",
    "class": "section-wrapper",
    "blocks": [
      {
        "type": "announcement-link"
      },
      {
        "type": "nav-links"
      }
    
    ],
    "settings": [
      {
        "type": "header",
        "content": "t:content.layout"
      },
      {
        "type": "select",
        "id": "content_direction",
        "label": "t:settings.direction",
        "options": [
          {
            "value": "column",
            "label": "t:options.vertical"
          },
          {
            "value": "row",
            "label": "t:options.horizontal"
          }
        ],
        "default": "column"
      },
      {
        "type": "select",
        "id": "horizontal_alignment",
        "label": "t:settings.alignment",
        "options": [
          {
            "value": "flex-start",
            "label": "t:options.left"
          },
          {
            "value": "center",
            "label": "t:options.center"
          },
          {
            "value": "flex-end",
            "label": "t:options.right"
          },
          {
            "value": "space-between",
            "label": "t:options.space_between"
          }
        ],
        "default": "flex-start",
        "visible_if": "{{ section.settings.content_direction == 'row' }}"
      },
      {
        "type": "select",
        "id": "vertical_alignment",
        "label": "t:settings.position",
        "options": [
          {
            "value": "flex-start",
            "label": "t:options.top"
          },
          {
            "value": "center",
            "label": "t:options.center"
          },
          {
            "value": "flex-end",
            "label": "t:options.bottom"
          }
        ],
        "default": "center",
        "visible_if": "{{ section.settings.content_direction == 'row' }}"
      },
      {
        "type": "checkbox",
        "id": "align_baseline",
        "label": "t:settings.align_baseline",
        "default": false,
        "visible_if": "{{ section.settings.vertical_alignment == 'flex-end' }}"
      },
      {
        "type": "select",
        "id": "horizontal_alignment_flex_direction_column",
        "label": "t:settings.alignment",
        "options": [
          {
            "value": "flex-start",
            "label": "t:options.left"
          },
          {
            "value": "center",
            "label": "t:options.center"
          },
          {
            "value": "flex-end",
            "label": "t:options.right"
          }
        ],
        "default": "flex-start",
        "visible_if": "{{ section.settings.content_direction != 'row' }}"
      },
      {
        "type": "select",
        "id": "vertical_alignment_flex_direction_column",
        "label": "t:settings.position",
        "options": [
          {
            "value": "flex-start",
            "label": "t:options.top"
          },
          {
            "value": "center",
            "label": "t:options.center"
          },
          {
            "value": "flex-end",
            "label": "t:options.bottom"
          },
          {
            "value": "space-between",
            "label": "t:options.space_between"
          }
        ],
        "default": "center",
        "visible_if": "{{ section.settings.content_direction == 'column' }}"
      },
      {
        "type": "range",
        "id": "gap",
        "label": "t:settings.gap",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "default": 12
      },
      {
        "type": "header",
        "content": "t:content.size"
      },
      {
        "type": "select",
        "id": "section_width",
        "label": "t:settings.width",
        "options": [
          {
            "value": "page-width",
            "label": "t:options.page"
          },
          {
            "value": "full-width",
            "label": "t:options.full"
          }
        ],
        "default": "page-width"
      },
      {
        "type": "select",
        "id": "section_height",
        "label": "t:settings.height",
        "options": [
          {
            "value": "",
            "label": "t:options.auto"
          },
          {
            "value": "small",
            "label": "t:options.small"
          },
          {
            "value": "medium",
            "label": "t:options.medium"
          },
          {
            "value": "large",
            "label": "t:options.large"
          },
          {
            "value": "full-screen",
            "label": "t:options.full_screen"
          },
          {
            "value": "custom",
            "label": "t:options.custom"
          }
        ],
        "default": ""
      },
      {
        "type": "range",
        "id": "section_height_custom",
        "label": "t:settings.custom_height",
        "min": 0,
        "max": 100,
        "step": 1,
        "default": 50,
        "unit": "%",
        "visible_if": "{{ section.settings.section_height == 'custom' }}"
      },
      {
        "type": "header",
        "content": "t:content.appearance"
      },
      {
        "type": "color_scheme",
        "id": "color_scheme",
        "label": "t:settings.color_scheme",
        "default": "scheme-1"
      },
      {
        "type": "select",
        "id": "background_media",
        "label": "t:settings.background_media",
        "options": [
          {
            "value": "none",
            "label": "t:options.none"
          },
          {
            "value": "image",
            "label": "t:options.image"
          },
          {
            "value": "video",
            "label": "t:options.video"
          }
        ],
        "default": "none"
      },
      {
        "type": "video",
        "id": "video",
        "label": "t:settings.video",
        "visible_if": "{{ section.settings.background_media == 'video' }}"
      },
      {
        "type": "select",
        "id": "video_position",
        "label": "t:settings.video_position",
        "options": [
          {
            "value": "cover",
            "label": "t:options.cover"
          },
          {
            "value": "contain",
            "label": "t:options.contain"
          }
        ],
        "default": "cover",
        "visible_if": "{{ section.settings.background_media == 'video' }}"
      },
      {
        "type": "image_picker",
        "id": "background_image",
        "label": "t:settings.image",
        "visible_if": "{{ section.settings.background_media == 'image' }}"
      },
      {
        "type": "select",
        "id": "background_image_position",
        "label": "t:settings.image_position",
        "options": [
          {
            "value": "cover",
            "label": "t:options.cover"
          },
          {
            "value": "fit",
            "label": "t:options.fit"
          }
        ],
        "default": "cover",
        "visible_if": "{{ section.settings.background_media == 'image' }}"
      },
      {
        "type": "select",
        "id": "border",
        "label": "t:settings.borders",
        "options": [
          {
            "value": "none",
            "label": "t:options.none"
          },
          {
            "value": "solid",
            "label": "t:options.solid"
          }
        ],
        "default": "none"
      },
      {
        "type": "range",
        "id": "border_width",
        "min": 0,
        "max": 10,
        "step": 0.5,
        "unit": "px",
        "label": "t:settings.border_width",
        "default": 1,
        "visible_if": "{{ section.settings.border != 'none' }}"
      },
      {
        "type": "range",
        "id": "border_opacity",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "%",
        "label": "t:settings.border_opacity",
        "default": 100,
        "visible_if": "{{ section.settings.border != 'none' }}"
      },
      {
        "type": "range",
        "id": "border_radius",
        "label": "t:settings.border_radius",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "default": 0
      },
      {
        "type": "checkbox",
        "id": "toggle_overlay",
        "label": "t:settings.background_overlay"
      },
      {
        "type": "color",
        "id": "overlay_color",
        "label": "t:settings.overlay_color",
        "alpha": true,
        "default": "#00000026",
        "visible_if": "{{ section.settings.toggle_overlay }}"
      },
      {
        "type": "select",
        "id": "overlay_style",
        "label": "t:settings.overlay_style",
        "options": [
          {
            "value": "solid",
            "label": "t:options.solid"
          },
          {
            "value": "gradient",
            "label": "t:options.gradient"
          }
        ],
        "default": "solid",
        "visible_if": "{{ section.settings.toggle_overlay }}"
      },
      {
        "type": "select",
        "id": "gradient_direction",
        "label": "t:settings.gradient_direction",
        "options": [
          {
            "value": "to top",
            "label": "t:options.up"
          },
          {
            "value": "to bottom",
            "label": "t:options.down"
          }
        ],
        "default": "to top",
        "visible_if": "{{ section.settings.toggle_overlay and section.settings.overlay_style == 'gradient' }}"
      },
      {
        "type": "header",
        "content": "t:content.padding"
      },
      {
        "type": "range",
        "id": "padding-block-start",
        "label": "t:settings.top",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "default": 0
      },
      {
        "type": "range",
        "id": "padding-block-end",
        "label": "t:settings.bottom",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "default": 0
      }
    ],
    "presets": [
      {
        "name": "Custom Announcement Bar"
      }
    ]
  }
  {% endschema %}
  